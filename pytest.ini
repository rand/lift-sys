[pytest]
minversion = 8.0
addopts = --strict-markers -ra -v -m "not slow" --tb=short
python_files = test_*.py
python_classes = Test*
python_functions = test_*
testpaths = tests
markers =
    unit: Fast, isolated unit tests covering core logic (<1s each).
    integration: Tests covering collaboration between subsystems or services (5-10s each).
    e2e: End-to-end workflow tests for user interfaces (30-60s each).
    playwright: Tests that exercise the Playwright browser automation stack.
    textual: Tests that exercise the Textual TUI test harness.
    asyncio: Coroutine based tests executed with pytest-asyncio.
    slow: Tests that take a long time to run (>30s, skipped by default).
    ast_repair: Tests for AST repair functionality.
    ir_interpreter: Tests for IR interpreter.
    code_generator: Tests for code generation.
    xgrammar: Tests using xgrammar.
    modal: Tests requiring Modal endpoint (expensive, skip in CI).
    real_modal: Tests using real Modal endpoint (not mocked, uses ResponseRecorder).
